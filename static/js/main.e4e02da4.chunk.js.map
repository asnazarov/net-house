{"version":3,"sources":["redux/reducers/characters.js","redux/reducers/card.js","redux/reducers/index.js","redux/store.js","components/CharactersBlock/CharactersBlock.jsx","components/CharactersBlock/LoadingBlock.jsx","redux/actions/characters.js","pages/Home.jsx","redux/actions/card.js","pages/Card.jsx","App.js","index.js"],"names":["initialState","items","isLoaded","fetching","characters","state","action","type","payload","card","rootReduser","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","CharactersBlock","id","name","image","status","gender","location","onClickAddCard","addedCount","to","onClick","obj","className","src","alt","LoadingBlock","speed","width","height","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","setFetching","setCharacters","Home","useState","currentPage","setCurrentPage","dispatch","useDispatch","useSelector","useEffect","pageNum","axios","get","then","data","results","catch","err","console","log","finally","document","addEventListener","scrollHandler","removeEventListener","e","target","documentElement","scrollHeight","Math","ceil","scrollTop","innerHeight","handleAddCharacterToCard","loading","Array","fill","map","key","Card","App","cardId","exact","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e4e02da4.chunk.js","sourcesContent":["const initialState = {\n  items: [],\n  isLoaded: false,\n  fetching: true,\n}\n\nconst characters = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SET_CHARACTERS':\n      return {\n        ...state,\n        items: [...state.items, ...action.payload],\n        isLoaded: true,\n      };\n    case 'SET_LOADED' :\n      return {\n        ...state,\n        isLoaded: action.payload,\n      };\n    case 'SET_FETCHING' :\n      return {\n        ...state,\n        fetching: action.payload\n      }\n    default:\n      return state\n  }\n\n}\nexport default characters;","const initialState = {\n  items: {},\n}\n\nconst card = (state = initialState, action) => {\n  switch (action.type) {\n    case 'ADD_CHARACTER_CARD': {\n\n      return {\n        ...state,\n        items: action.payload,\n      }\n    }\n    default:\n      return state\n  }\n\n}\nexport default card;","import {combineReducers} from \"redux\";\n\nimport characters from './characters.js';\nimport card from './card.js';\n\nconst rootReduser = combineReducers({\n  characters,\n  card,\n})\n\nexport default rootReduser","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from \"redux-thunk\";\n\nimport rootReduser from \"./reducers\";\n\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION__ || compose\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  rootReduser,\n  composeEnhancers(applyMiddleware(thunk))\n)\n// window.store = store\n\n// console.log(window.store.getState())\nexport default store;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from \"react-router-dom\";\n\n\nconst CharactersBlock = ({id, name, image, status, gender, location, onClickAddCard, addedCount}) => {\n\n  const onCardSelection = () => {\n    const obj = {\n      id,\n      name,\n      image,\n      status,\n      gender,\n      location: location.name\n    }\n    onClickAddCard(obj)\n  }\n  return (\n    <Link to={`/net-house/card-${id}`} onClick={onCardSelection} className=\"card-block\">\n        <img className=\"card-block__image\"\n             src={image}\n             alt=\"Рик и Морти\"/>\n        <h4 className=\"card-block__title\">{name}</h4>\n    </Link>\n\n  )\n}\n\nCharactersBlock.propTypes = {\n  name: PropTypes.string\n}\n\nexport default CharactersBlock","import React from 'react';\nimport ContentLoader from \"react-content-loader\";\n\nconst LoadingBlock = () => {\n\n  return (\n    <div>\n      <ContentLoader\n        speed={2}\n        width={330}\n        height={363}\n        viewBox=\"0 0 330 363\"\n        backgroundColor=\"#f3f3f3\"\n        foregroundColor=\"#ecebeb\"\n      >\n        <rect x=\"10\" y=\"0\" rx=\"0\" ry=\"0\" width=\"260\" height=\"260\" />\n        <rect x=\"57\" y=\"268\" rx=\"0\" ry=\"0\" width=\"160\" height=\"18\" />\n      </ContentLoader>\n\n    </div>\n\n  )\n}\nexport default LoadingBlock","import axios from \"axios\";\n\n\nexport const fetchBurgers = (pageNum) => (dispatch) => {\n  axios.get(`https://rickandmortyapi.com/api/character?page=${pageNum}`)\n    .then(({data}) => {\n      dispatch(setCharacters(data.results))\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      dispatch(setFetching(false))\n    })\n}\n\nexport const setFetching = payload => ({\n  type: 'SET_FETCHING',\n  payload\n})\n\nexport const setLoaded = payload => ({\n  type: 'SET_LOADED',\n  payload,\n})\nexport const setCharacters = (items) => ({\n  type: 'SET_CHARACTERS',\n  payload: items,\n})","import React, {useEffect, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {CharactersBlock, LoadingBlock} from \"../components\";\nimport {fetchBurgers, setFetching} from \"../redux/actions/characters\";\nimport {addCharacterToCart} from \"../redux/actions/card\";\n\n\nconst Home = () => {\n  const [currentPage, setCurrentPage] = useState(1)\n  const dispatch = useDispatch()\n  const {items, isLoaded, fetching} = useSelector(({characters}) => characters)\n\n  useEffect(() => {\n    if (fetching) {\n      setCurrentPage(pageNum => currentPage < 34 && pageNum + 1)\n      dispatch(fetchBurgers(currentPage))\n    }\n  }, [fetching])\n\n  useEffect(() => {\n    document.addEventListener('scroll', scrollHandler)\n    return function () {\n      document.removeEventListener('scroll', scrollHandler)\n    }\n  }, [])\n\n  const scrollHandler = (e) => {\n    if (e.target.documentElement.scrollHeight === Math.ceil(e.target.documentElement.scrollTop + window.innerHeight)) {\n      dispatch(setFetching(true))\n    }\n  }\n\n  const handleAddCharacterToCard = obj => {\n    dispatch(addCharacterToCart(obj))\n  }\n\n  const loading = Array(20).fill(<LoadingBlock/>)\n  const characters = items?.map(obj => <CharactersBlock\n    onClickAddCard={handleAddCharacterToCard}\n    {...obj}\n    key={obj.id}\n  />)\n\n  return (\n    <div className=\"container\">\n      <div className=\"content__items\">\n        {\n          isLoaded ? (characters) : (loading)\n        }\n        {\n          fetching && characters && loading\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default Home","export const addCharacterToCart = (burgerObj) => ({\n  type: 'ADD_CHARACTER_CARD',\n  payload: burgerObj,\n})\n\n","import React from 'react';\nimport {useSelector} from \"react-redux\";\nimport {Link} from \"react-router-dom\";\n\nconst Card = () => {\n\n  const {items} = useSelector(({card}) => card)\n\n  return (\n    <div className=\"container container--card\">\n      <Link to=\"/net-house\" className=\"button button--black\">\n        <span>Вернуться назад</span>\n      </Link>\n      <div>\n        <img className=\"card-block__image\" src={items.image} alt={items.name}/>\n        <h2 className=\"card-block__title\">Имя - {items.name}</h2>\n        <p className=\"card-block__text\">Статус - {items.status}</p>\n        <p className=\"card-block__text\">Пол - {items.gender}</p>\n        <p className=\"card-block__text\">Локация - {items.location}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default Card","import {Route} from \"react-router-dom\";\nimport {Card, Home} from './pages'\nimport {useSelector} from \"react-redux\";\n\nfunction App() {\n\n  const cardId = useSelector(({card}) => card.items.id)\n  return (\n    <div className=\"App\">\n      <div className=\"wrapper\">\n        <div className=\"content\">\n          <Route exact path=\"/net-house\" component={Home}/>\n          <Route path={`/net-house/card-${cardId}`} component={Card}/>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {BrowserRouter as Router} from \"react-router-dom\";\nimport store from './redux/store.js';\n\nimport './scss/app.scss';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n        <App/>\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}